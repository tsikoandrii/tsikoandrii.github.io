"use strict";function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classPrivateMethodGet(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var getTemplate=function(e,t,n,r){var a=null!=e?e:"",o=t.map((function(e){var t="";return e.id===n&&(a=e.value,t="selected"),'\n            <li class="select-option '.concat(t,'" data-type="item" data-id="').concat(e.id,'">').concat(e.value,"</li>\n        ")}));return'\n    <div class="select-backdrop" data-type="backdrop">\n    \n    </div>\n    <div data-value class="select-input" data-type="input">\n        <span data-type="value">'.concat(a,'</span>\n        <div data-type="caret" class="select-caret">\n            <img src="').concat(r||"img/icons/blue-arrow.svg",'">\n        </div>\n    </div>\n    <div class="select-dropdown">\n        <ul class="select-options">\n           ').concat(o.join(""),"\n        </ul>\n    </div>\n    ")},_render=new WeakSet,_setup=new WeakSet,Select=function(){function e(t,n){_classCallCheck(this,e),_setup.add(this),_render.add(this),this.$elem=document.querySelector(t),this.options=n,this.selectedId=n.selectedId,this.caretImage=n.caretImg,this.data=[],_classPrivateMethodGet(this,_render,_render2).call(this),_classPrivateMethodGet(this,_setup,_setup2).call(this)}return _createClass(e,[{key:"clickHandler",value:function(e){var t=e.target.dataset.type;if("input"===t)this.toggle();else if("item"===t){var n=e.target.dataset.id;this.select(n),this.close()}else"backdrop"===t?this.close():this.toggle()}},{key:"select",value:function(e){this.selectedId=Number(e),this.$elem.querySelectorAll('[data-type="item"]').forEach((function(e){e.classList.remove("selected")})),this.$elem.querySelector('[data-id="'.concat(e,'"]')).classList.add("selected"),this.$value.textContent=this.current.value}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"open",value:function(){this.$elem.classList.add("open")}},{key:"close",value:function(){this.$elem.classList.remove("open")}},{key:"destroy",value:function(){this.$elem.removeEventListener("click",this.clickHandler),this.$elem.innerHTML=""}},{key:"current",get:function(){var e=this;return this.data.find((function(t){return t.id===e.selectedId}))}},{key:"isOpen",get:function(){return this.$elem.classList.contains("open")}}]),e}(),_render2=function(){for(var e=this.options,t=e.placeholder,n=e.originalSelect,r=document.querySelector(n).childNodes,a=-1,o=0;o<r.length;o++)"#text"!==r[o].nodeName&&(a++,this.data.push({id:a,value:r[o].innerHTML}));document.querySelector(n).remove(),this.$elem.classList.add("select"),this.$elem.innerHTML=getTemplate(t,this.data,this.selectedId,this.caretImage)},_setup2=function(){this.clickHandler=this.clickHandler.bind(this),this.$elem.addEventListener("click",this.clickHandler),this.$value=this.$elem.querySelector('[data-type="value"]')},select=new Select("#select",{placeholder:"Please select category",originalSelect:"#originalSelect"}),langSelect=new Select("#langSelect",{originalSelect:"#oldLangSelect",selectedId:1,caretImg:"img/icons/yellow-arrow.svg"}),langSelect1=new Select("#langSelect1",{originalSelect:"#oldLangSelect1",selectedId:1,caretImg:"img/icons/yellow-arrow.svg"});window.s=langSelect;var anchors=document.querySelectorAll('a[href*="#"]');console.log(anchors);var _step,_iterator=_createForOfIteratorHelper(anchors);try{var _loop=function(){var e=_step.value;e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("href");document.querySelector(""+n).scrollIntoView({behavior:"smooth",block:"start"})}))};for(_iterator.s();!(_step=_iterator.n()).done;)_loop()}catch(e){_iterator.e(e)}finally{_iterator.f()}var getModalTemplate=function(e){return'\n        <div class="overlay">\n            <div class="modal-body animate__animated animate__backInDown">\n                <div class="modal-header">\n                    <div data-type="close" class="modal-close">&times;</div>\n                </div>\n                <div class="modal-content">\n                    '.concat(e,"\n                </div>\n            </div>\n        </div>\n    ")},_render3=new WeakSet,_setup3=new WeakSet,Modal=function(){function e(t,n){_classCallCheck(this,e),_setup3.add(this),_render3.add(this),this.$el=document.querySelector(t),this.selector=t,this.openButton=n.openButton,console.log(n.openButton),_classPrivateMethodGet(this,_render3,_render4).call(this),_classPrivateMethodGet(this,_setup3,_setup4).call(this)}return _createClass(e,[{key:"clickHandler",value:function(e){var t=e.target.dataset.type;console.log(e.target.dataset),"close"===t?(console.log("This method has been worked!"),this.close()):"open"===t&&this.open()}},{key:"open",value:function(){console.log(this),this.$el.classList.add("open")}},{key:"close",value:function(){document.querySelector(this.selector).classList.remove("open"),document.querySelector(this.selector).classList.remove("animate__backInDown")}}]),e}(),_render4=function(){var e=this.$el.innerHTML;this.$el.classList.add("modal"),this.$el.innerHTML=getModalTemplate(e)},_setup4=function(){this.clickHandler=this.clickHandler.bind(this),console.log(this.clickHandler),document.addEventListener("click",this.clickHandler)},modal=new Modal("#modal",{openButton:"#openModal"});window.m=modal;var mobileMenu=document.querySelector("#mobileMenu"),burger=document.querySelector("#burger"),closeMenu=document.querySelector("#closeMenu");burger.addEventListener("touchstart",(function(){mobileMenu.classList.add("active")})),closeMenu.addEventListener("touchstart",(function(){mobileMenu.classList.remove("active")}));var works=document.querySelectorAll(".work");console.log(works),works.forEach((function(e){e.addEventListener("click",(function(){works.forEach((function(e){e.classList.remove("clicked")})),e.classList.add("clicked")}))}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsIm8iLCJhbGxvd0FycmF5TGlrZSIsIml0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJBcnJheSIsImlzQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJsZW5ndGgiLCJpIiwiRiIsInMiLCJuIiwiZG9uZSIsInZhbHVlIiwiZSIsIl9lIiwiZiIsIlR5cGVFcnJvciIsImVyciIsIm5vcm1hbENvbXBsZXRpb24iLCJkaWRFcnIiLCJzdGVwIiwibmV4dCIsIl9lMiIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJmcm9tIiwidGVzdCIsImFyciIsImxlbiIsImFycjIiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9jbGFzc1ByaXZhdGVNZXRob2RHZXQiLCJyZWNlaXZlciIsInByaXZhdGVTZXQiLCJmbiIsImhhcyIsImdldFRlbXBsYXRlIiwicGxhY2Vob2xkZXIiLCJkYXRhIiwic2VsZWN0ZWRJZCIsImltZyIsInRleHQiLCJpdGVtcyIsIm1hcCIsIml0ZW0iLCJjbHMiLCJpZCIsImNvbmNhdCIsImpvaW4iLCJfcmVuZGVyIiwiV2Vha1NldCIsIl9zZXR1cCIsIlNlbGVjdCIsInNlbGVjdG9yIiwib3B0aW9ucyIsInRoaXMiLCJhZGQiLCIkZWxlbSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhcmV0SW1hZ2UiLCJjYXJldEltZyIsIl9yZW5kZXIyIiwiX3NldHVwMiIsImV2ZW50IiwidHlwZSIsImRhdGFzZXQiLCJ0b2dnbGUiLCJzZWxlY3QiLCJjbG9zZSIsIk51bWJlciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWwiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCIkdmFsdWUiLCJ0ZXh0Q29udGVudCIsImN1cnJlbnQiLCJpc09wZW4iLCJvcGVuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsaWNrSGFuZGxlciIsImlubmVySFRNTCIsImdldCIsIl90aGlzIiwiZmluZCIsImNvbnRhaW5zIiwiX3RoaXMkb3B0aW9ucyIsIm9yaWdpbmFsU2VsZWN0Iiwic2VsZWN0T3B0aW9ucyIsImNoaWxkTm9kZXMiLCJjb3VudCIsIm5vZGVOYW1lIiwicHVzaCIsImJpbmQiLCJhZGRFdmVudExpc3RlbmVyIiwibGFuZ1NlbGVjdCIsImxhbmdTZWxlY3QxIiwid2luZG93IiwiYW5jaG9ycyIsImNvbnNvbGUiLCJsb2ciLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9sb29wIiwiYW5jaG9yIiwicHJldmVudERlZmF1bHQiLCJibG9ja0lEIiwiZ2V0QXR0cmlidXRlIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImJsb2NrIiwiZ2V0TW9kYWxUZW1wbGF0ZSIsImNvbnRlbnQiLCJfcmVuZGVyMyIsIl9zZXR1cDMiLCJNb2RhbCIsIiRlbCIsIm9wZW5CdXR0b24iLCJfcmVuZGVyNCIsIl9zZXR1cDQiLCJtb2RhbCIsIm0iLCJtb2JpbGVNZW51IiwiYnVyZ2VyIiwiY2xvc2VNZW51Iiwid29ya3MiLCJ3b3JrIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLFNBQVNBLDJCQUEyQkMsRUFBR0MsR0FBa0IsSUFBSUMsRUFBSSxHQUFzQixvQkFBWEMsUUFBZ0QsTUFBdEJILEVBQUVHLE9BQU9DLFVBQW1CLENBQUUsR0FBSUMsTUFBTUMsUUFBUU4sS0FBT0UsRUFBS0ssNEJBQTRCUCxLQUFPQyxHQUFrQkQsR0FBeUIsaUJBQWJBLEVBQUVRLE9BQXFCLENBQU1OLElBQUlGLEVBQUlFLEdBQUksSUFBSU8sRUFBSSxFQUFPQyxFQUFJLGFBQWlCLE1BQU8sQ0FBRUMsRUFBR0QsRUFBR0UsRUFBRyxXQUFlLE9BQUlILEdBQUtULEVBQUVRLE9BQWUsQ0FBRUssTUFBTSxHQUFlLENBQUVBLE1BQU0sRUFBT0MsTUFBT2QsRUFBRVMsT0FBV00sRUFBRyxTQUFXQyxHQUFNLE1BQU1BLEdBQU9DLEVBQUdQLEdBQU8sTUFBTSxJQUFJUSxVQUFVLHlJQUE0SSxJQUE2Q0MsRUFBekNDLEdBQW1CLEVBQU1DLEdBQVMsRUFBWSxNQUFPLENBQUVWLEVBQUcsV0FBZVQsRUFBS0YsRUFBRUcsT0FBT0MsYUFBZ0JRLEVBQUcsV0FBZSxJQUFJVSxFQUFPcEIsRUFBR3FCLE9BQXNDLE9BQTlCSCxFQUFtQkUsRUFBS1QsS0FBYVMsR0FBU1AsRUFBRyxTQUFXUyxHQUFPSCxHQUFTLEVBQU1GLEVBQU1LLEdBQVFQLEVBQUcsV0FBZSxJQUFXRyxHQUFvQyxNQUFoQmxCLEVBQVcsUUFBV0EsRUFBVyxTQUFPLFFBQVUsR0FBSW1CLEVBQVEsTUFBTUYsS0FFeDlCLFNBQVNaLDRCQUE0QlAsRUFBR3lCLEdBQVUsR0FBS3pCLEVBQUwsQ0FBZ0IsR0FBaUIsaUJBQU5BLEVBQWdCLE9BQU8wQixrQkFBa0IxQixFQUFHeUIsR0FBUyxJQUFJYixFQUFJZSxPQUFPQyxVQUFVQyxTQUFTQyxLQUFLOUIsR0FBRytCLE1BQU0sR0FBSSxHQUFpRSxNQUFuRCxXQUFObkIsR0FBa0JaLEVBQUVnQyxjQUFhcEIsRUFBSVosRUFBRWdDLFlBQVlDLE1BQWdCLFFBQU5yQixHQUFxQixRQUFOQSxFQUFvQlAsTUFBTTZCLEtBQUtsQyxHQUFjLGNBQU5ZLEdBQXFCLDJDQUEyQ3VCLEtBQUt2QixHQUFXYyxrQkFBa0IxQixFQUFHeUIsUUFBekcsR0FFN1MsU0FBU0Msa0JBQWtCVSxFQUFLQyxJQUFrQixNQUFQQSxHQUFlQSxFQUFNRCxFQUFJNUIsVUFBUTZCLEVBQU1ELEVBQUk1QixRQUFRLElBQUssSUFBSUMsRUFBSSxFQUFHNkIsRUFBTyxJQUFJakMsTUFBTWdDLEdBQU01QixFQUFJNEIsRUFBSzVCLElBQU82QixFQUFLN0IsR0FBSzJCLEVBQUkzQixHQUFNLE9BQU82QixFQUVoTCxTQUFTQyxnQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsYUFBb0JDLEdBQWdCLE1BQU0sSUFBSXZCLFVBQVUscUNBRWhILFNBQVN3QixrQkFBa0JDLEVBQVFDLEdBQVMsSUFBSyxJQUFJbkMsRUFBSSxFQUFHQSxFQUFJbUMsRUFBTXBDLE9BQVFDLElBQUssQ0FBRSxJQUFJb0MsRUFBYUQsRUFBTW5DLEdBQUlvQyxFQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQU9ELEVBQVdFLGNBQWUsRUFBVSxVQUFXRixJQUFZQSxFQUFXRyxVQUFXLEdBQU1yQixPQUFPc0IsZUFBZU4sRUFBUUUsRUFBV0ssSUFBS0wsSUFFN1MsU0FBU00sYUFBYVYsRUFBYVcsRUFBWUMsR0FBbUosT0FBaElELEdBQVlWLGtCQUFrQkQsRUFBWWIsVUFBV3dCLEdBQWlCQyxHQUFhWCxrQkFBa0JELEVBQWFZLEdBQXFCWixFQUV6TSxTQUFTYSx1QkFBdUJDLEVBQVVDLEVBQVlDLEdBQU0sSUFBS0QsRUFBV0UsSUFBSUgsR0FBYSxNQUFNLElBQUlyQyxVQUFVLGtEQUFxRCxPQUFPdUMsRUNaN0ssSUFBQUUsWUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLElBQUFDLEVBQUFKLE1BQUFBLEVBQUFBLEVBQUEsR0FDQUssRUFBQUosRUFBQUssS0FBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUEsR0FLQSxPQUpBRCxFQUFBRSxLQUFBUCxJQUNBRSxFQUFBRyxFQUFBckQsTUFDQXNELEVBQUEsWUFFQSwwQ0FBQUUsT0FDQUYsRUFEQSxnQ0FBQUUsT0FDQUgsRUFBQUUsR0FEQSxNQUFBQyxPQUNBSCxFQUFBckQsTUFEQSxzQkFLQSxNQUFBLDRLQUFBd0QsT0FLQU4sRUFMQSx5RkFBQU0sT0FPQVAsR0FBQSwyQkFQQSx1SEFBQU8sT0FZQUwsRUFBQU0sS0FBQSxJQVpBLHNDRGlCSUMsUUFBVSxJQUFJQyxRQUVkQyxPQUFTLElBQUlELFFDRGpCRSxPREcwQixXQ0YxQixTQUFBQSxFQUFBQyxFQUFBQyxHQUFBdEMsZ0JBQUF1QyxLQUFBSCxHQUFBRCxPQUFBSyxJQUFBRCxNQUFBTixRQUFBTyxJQUFBRCxNQUNBQSxLQUFBRSxNQUFBQyxTQUFBQyxjQUFBTixHQUNBRSxLQUFBRCxRQUFBQSxFQUNBQyxLQUFBaEIsV0FBQWUsRUFBQWYsV0FDQWdCLEtBQUFLLFdBQUFOLEVBQUFPLFNBQ0FOLEtBQUFqQixLQUFBLEdBQ0FQLHVCQUFBd0IsS0FBQU4sUUFBQWEsVUFBQXZELEtBQUFnRCxNQUNBeEIsdUJBQUF3QixLQUFBSixPQUFBWSxTQUFBeEQsS0FBQWdELE1EOEVFLE9BaEVBM0IsYUFBYXdCLEVBQVEsQ0FBQyxDQUNwQnpCLElBQUssZUFDTHBDLE1BQU8sU0NXWHlFLEdBQUEsSUFDQUMsRUFBQUQsRUFBQTVDLE9BQUE4QyxRQUFBRCxLQUNBLEdBQUEsVUFBQUEsRUFDQVYsS0FBQVksY0FDQSxHQUFBLFNBQUFGLEVBQUEsQ0FDQSxJQUFBbkIsRUFBQWtCLEVBQUE1QyxPQUFBOEMsUUFBQXBCLEdBQ0FTLEtBQUFhLE9BQUF0QixHQUNBUyxLQUFBYyxZQUNBLGFBQUFKLEVBQ0FWLEtBQUFjLFFBRUFkLEtBQUFZLFdEUEssQ0FDRHhDLElBQUssU0FDTHBDLE1BQU8sU0NpQlh1RCxHQUNBUyxLQUFBaEIsV0FBQStCLE9BQUF4QixHQUVBUyxLQUFBRSxNQUFBYyxpQkFBQSxzQkFBQUMsU0FBQSxTQUFBQyxHQUNBQSxFQUFBQyxVQUFBQyxPQUFBLGVBRUFwQixLQUFBRSxNQUFBRSxjQUFBLGFBQUFaLE9BQUFELEVBQUEsT0FBQTRCLFVBQUFsQixJQUFBLFlBRUFELEtBQUFxQixPQUFBQyxZQUFBdEIsS0FBQXVCLFFBQUF2RixRRGpCSyxDQUNEb0MsSUFBSyxTQUNMcEMsTUFBTyxXQ21CWGdFLEtBQUF3QixPQUFBeEIsS0FBQWMsUUFBQWQsS0FBQXlCLFNEaEJLLENBQ0RyRCxJQUFLLE9BQ0xwQyxNQUFPLFdDa0JYZ0UsS0FBQUUsTUFBQWlCLFVBQUFsQixJQUFBLFVEZkssQ0FDRDdCLElBQUssUUFDTHBDLE1BQU8sV0NpQlhnRSxLQUFBRSxNQUFBaUIsVUFBQUMsT0FBQSxVRGRLLENBQ0RoRCxJQUFLLFVBQ0xwQyxNQUFPLFdDZ0JYZ0UsS0FBQUUsTUFBQXdCLG9CQUFBLFFBQUExQixLQUFBMkIsY0FDQTNCLEtBQUFFLE1BQUEwQixVQUFBLEtEYkssQ0FDRHhELElBQUssVUFDTHlELElBQUssV0N0QlQsSUFBQUMsRUFBQTlCLEtBQ0EsT0FBQUEsS0FBQWpCLEtBQUFnRCxNQUFBLFNBQUFiLEdBQUEsT0FBQUEsRUFBQTNCLEtBQUF1QyxFQUFBOUMsZ0JENEJLLENBQ0RaLElBQUssU0FDTHlELElBQUssV0MxQlQsT0FBQTdCLEtBQUFFLE1BQUFpQixVQUFBYSxTQUFBLFlEK0JTbkMsRUFuRmlCLEdBc0Z0QlUsU0FBVyxXQzNFZixJQUpBLElBQUEwQixFQUNBakMsS0FBQUQsUUFBQWpCLEVBREFtRCxFQUNBbkQsWUFBQW9ELEVBREFELEVBQ0FDLGVBQ0FDLEVBQUFoQyxTQUFBQyxjQUFBOEIsR0FBQUUsV0FDQUMsR0FBQSxFQUNBMUcsRUFBQSxFQUFBQSxFQUFBd0csRUFBQXpHLE9BQUFDLElBQ0EsVUFBQXdHLEVBQUF4RyxHQUFBMkcsV0FDQUQsSUFDQXJDLEtBQUFqQixLQUFBd0QsS0FBQSxDQUNBaEQsR0FBQThDLEVBQ0FyRyxNQUFBbUcsRUFBQXhHLEdBQUFpRyxhQUlBekIsU0FBQUMsY0FBQThCLEdBQUFkLFNBQ0FwQixLQUFBRSxNQUFBaUIsVUFBQWxCLElBQUEsVUFDQUQsS0FBQUUsTUFBQTBCLFVBQUEvQyxZQUFBQyxFQUFBa0IsS0FBQWpCLEtBQUFpQixLQUFBaEIsV0FBQWdCLEtBQUFLLGFEc0ZJRyxRQUFVLFdDakZkUixLQUFBMkIsYUFBQTNCLEtBQUEyQixhQUFBYSxLQUFBeEMsTUFDQUEsS0FBQUUsTUFBQXVDLGlCQUFBLFFBQUF6QyxLQUFBMkIsY0FDQTNCLEtBQUFxQixPQUFBckIsS0FBQUUsTUFBQUUsY0FBQSx3QkF1REFTLE9BQUEsSUFBQWhCLE9BQUEsVUFBQSxDQUNBZixZQUFBLHlCQUNBb0QsZUFBQSxvQkFHQVEsV0FBQSxJQUFBN0MsT0FBQSxjQUFBLENBQ0FxQyxlQUFBLGlCQUNBbEQsV0FBQSxFQUNBc0IsU0FBQSwrQkFHQXFDLFlBQUEsSUFBQTlDLE9BQUEsZUFBQSxDQUNBcUMsZUFBQSxrQkFDQWxELFdBQUEsRUFDQXNCLFNBQUEsK0JBR0FzQyxPQUFBL0csRUFBQTZHLFdBSUEsSUFBQUcsUUFBQTFDLFNBQUFhLGlCQUFBLGdCQUNBOEIsUUFBQUMsSUFBQUYsU0QyQkEsSUFDSUcsTUFEQUMsVUFBWWhJLDJCQzFCaEI0SCxTRDZCQSxJQUNFLElBQUlLLE1BQVEsV0FDVixJQy9CSkMsRUQrQmlCSCxNQUFNaEgsTUM5QnZCbUgsRUFBQVYsaUJBQUEsU0FBQSxTQUFBeEcsR0FDQUEsRUFBQW1ILGlCQUNBLElBQUFDLEVBQUFGLEVBQUFHLGFBQUEsUUFDQW5ELFNBQUFDLGNBQUEsR0FBQWlELEdBQUFFLGVBQUEsQ0FDQUMsU0FBQSxTQUNBQyxNQUFBLGNBTkEsSUFBQVIsVUFBQXBILE1BQUFtSCxNQUFBQyxVQUFBbkgsS0FBQUMsTUFBQW1ILFFEZ0RFLE1BQU83RyxHQUNQNEcsVUFBVWhILEVBQUVJLEdBQ1osUUFDQTRHLFVBQVU5RyxJQ3BDWixJQUFBdUgsaUJBQUEsU0FBQUMsR0FDQSxNQUFBLG1VQUFBbkUsT0FPQW1FLEVBUEEsdUVEMENJQyxTQUFXLElBQUlqRSxRQUVma0UsUUFBVSxJQUFJbEUsUUM5QmxCbUUsTURnQ3lCLFdDL0J6QixTQUFBQSxFQUFBaEUsRUFBQUMsR0FBQXRDLGdCQUFBdUMsS0FBQThELEdBQUFELFFBQUE1RCxJQUFBRCxNQUFBNEQsU0FBQTNELElBQUFELE1BQ0FBLEtBQUErRCxJQUFBNUQsU0FBQUMsY0FBQU4sR0FDQUUsS0FBQUYsU0FBQUEsRUFDQUUsS0FBQWdFLFdBQUFqRSxFQUFBaUUsV0FDQWxCLFFBQUFDLElBQUFoRCxFQUFBaUUsWUFDQXhGLHVCQUFBd0IsS0FBQTRELFNBQUFLLFVBQUFqSCxLQUFBZ0QsTUFDQXhCLHVCQUFBd0IsS0FBQTZELFFBQUFLLFNBQUFsSCxLQUFBZ0QsTURzRUUsT0EzQkEzQixhQUFheUYsRUFBTyxDQUFDLENBQ25CMUYsSUFBSyxlQUNMcEMsTUFBTyxTQy9CWHlFLEdBQUEsSUFDQUMsRUFBQUQsRUFBQTVDLE9BQUE4QyxRQUFBRCxLQUNBb0MsUUFBQUMsSUFBQXRDLEVBQUE1QyxPQUFBOEMsU0FDQSxVQUFBRCxHQUNBb0MsUUFBQUMsSUFBQSxnQ0FDQS9DLEtBQUFjLFNBQ0EsU0FBQUosR0FDQVYsS0FBQXlCLFNEbUNLLENBQ0RyRCxJQUFLLE9BQ0xwQyxNQUFPLFdDaENYOEcsUUFBQUMsSUFBQS9DLE1BQ0FBLEtBQUErRCxJQUFBNUMsVUFBQWxCLElBQUEsVURtQ0ssQ0FDRDdCLElBQUssUUFDTHBDLE1BQU8sV0NqQ1htRSxTQUFBQyxjQUFBSixLQUFBRixVQUFBcUIsVUFBQUMsT0FBQSxRQUNBakIsU0FBQUMsY0FBQUosS0FBQUYsVUFBQXFCLFVBQUFDLE9BQUEsMkJEc0NTMEMsRUE3Q2dCLEdBZ0RyQkcsU0FBVyxXQ3RFZixJQUFBTixFQUFBM0QsS0FBQStELElBQUFuQyxVQUNBNUIsS0FBQStELElBQUE1QyxVQUFBbEIsSUFBQSxTQUNBRCxLQUFBK0QsSUFBQW5DLFVBQUE4QixpQkFBQUMsSUQwRUlPLFFBQVUsV0N0RWRsRSxLQUFBMkIsYUFBQTNCLEtBQUEyQixhQUFBYSxLQUFBeEMsTUFDQThDLFFBQUFDLElBQUEvQyxLQUFBMkIsY0FDQXhCLFNBQUFzQyxpQkFBQSxRQUFBekMsS0FBQTJCLGVBeUJBd0MsTUFBQSxJQUFBTCxNQUFBLFNBQUEsQ0FDQUUsV0FBQSxlQUdBcEIsT0FBQXdCLEVBQUFELE1BS0EsSUFBQUUsV0FBQWxFLFNBQUFDLGNBQUEsZUFDQWtFLE9BQUFuRSxTQUFBQyxjQUFBLFdBQ0FtRSxVQUFBcEUsU0FBQUMsY0FBQSxjQUVBa0UsT0FBQTdCLGlCQUFBLGNBQUEsV0FDQTRCLFdBQUFsRCxVQUFBbEIsSUFBQSxhQUVBc0UsVUFBQTlCLGlCQUFBLGNBQUEsV0FDQTRCLFdBQUFsRCxVQUFBQyxPQUFBLGFBS0EsSUFBQW9ELE1BQUFyRSxTQUFBYSxpQkFBQSxTQUVBOEIsUUFBQUMsSUFBQXlCLE9BRUFBLE1BQUF2RCxTQUFBLFNBQUF3RCxHQUNBQSxFQUFBaEMsaUJBQUEsU0FBQSxXQUNBK0IsTUFBQXZELFNBQUEsU0FBQUMsR0FDQUEsRUFBQUMsVUFBQUMsT0FBQSxjQUVBcUQsRUFBQXRELFVBQUFsQixJQUFBIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOltudWxsLCIvLyDQl9Cw0LzQtdC90LAg0YHRgtCw0L3QtNCw0YDRgtC90L7Qs9C+INGB0LXQu9C10LrRgtCwXHJcblxyXG5jb25zdCBnZXRUZW1wbGF0ZSA9IChwbGFjZWhvbGRlciwgZGF0YSwgc2VsZWN0ZWRJZCwgaW1nKSA9PiB7XHJcbiAgICBsZXQgdGV4dCA9IHBsYWNlaG9sZGVyID8/ICcnO1xyXG4gICAgY29uc3QgaXRlbXMgPSBkYXRhLm1hcChpdGVtID0+IHtcclxuICAgICAgICBsZXQgY2xzID0gJyc7XHJcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IHNlbGVjdGVkSWQpIHtcclxuICAgICAgICAgICAgdGV4dCA9IGl0ZW0udmFsdWU7XHJcbiAgICAgICAgICAgIGNscyA9ICdzZWxlY3RlZCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cInNlbGVjdC1vcHRpb24gJHtjbHN9XCIgZGF0YS10eXBlPVwiaXRlbVwiIGRhdGEtaWQ9XCIke2l0ZW0uaWR9XCI+JHtpdGVtLnZhbHVlfTwvbGk+XHJcbiAgICAgICAgYFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGBcclxuICAgIDxkaXYgY2xhc3M9XCJzZWxlY3QtYmFja2Ryb3BcIiBkYXRhLXR5cGU9XCJiYWNrZHJvcFwiPlxyXG4gICAgXHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgZGF0YS12YWx1ZSBjbGFzcz1cInNlbGVjdC1pbnB1dFwiIGRhdGEtdHlwZT1cImlucHV0XCI+XHJcbiAgICAgICAgPHNwYW4gZGF0YS10eXBlPVwidmFsdWVcIj4ke3RleHR9PC9zcGFuPlxyXG4gICAgICAgIDxkaXYgZGF0YS10eXBlPVwiY2FyZXRcIiBjbGFzcz1cInNlbGVjdC1jYXJldFwiPlxyXG4gICAgICAgICAgICA8aW1nIHNyYz1cIiR7IWltZyA/ICdpbWcvaWNvbnMvYmx1ZS1hcnJvdy5zdmcnIDogaW1nfVwiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwic2VsZWN0LWRyb3Bkb3duXCI+XHJcbiAgICAgICAgPHVsIGNsYXNzPVwic2VsZWN0LW9wdGlvbnNcIj5cclxuICAgICAgICAgICAke2l0ZW1zLmpvaW4oJycpfVxyXG4gICAgICAgIDwvdWw+XHJcbiAgICA8L2Rpdj5cclxuICAgIGBcclxufTtcclxuXHJcbmNsYXNzIFNlbGVjdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvciwgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuJGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJZCA9IG9wdGlvbnMuc2VsZWN0ZWRJZDtcclxuICAgICAgICB0aGlzLmNhcmV0SW1hZ2UgPSBvcHRpb25zLmNhcmV0SW1nO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xyXG4gICAgICAgIHRoaXMuI3JlbmRlcigpO1xyXG4gICAgICAgIHRoaXMuI3NldHVwKCk7XHJcbiAgICB9O1xyXG4gICAgI3JlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7cGxhY2Vob2xkZXIsIG9yaWdpbmFsU2VsZWN0fSA9IHRoaXMub3B0aW9ucztcclxuICAgICAgICBsZXQgc2VsZWN0T3B0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3JpZ2luYWxTZWxlY3QpLmNoaWxkTm9kZXM7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gLTE7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RPcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RPcHRpb25zW2ldLm5vZGVOYW1lICE9PSAnI3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBjb3VudCxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc2VsZWN0T3B0aW9uc1tpXS5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9yaWdpbmFsU2VsZWN0KS5yZW1vdmUoKTtcclxuICAgICAgICB0aGlzLiRlbGVtLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdCcpO1xyXG4gICAgICAgIHRoaXMuJGVsZW0uaW5uZXJIVE1MID0gZ2V0VGVtcGxhdGUocGxhY2Vob2xkZXIsIHRoaXMuZGF0YSwgdGhpcy5zZWxlY3RlZElkLCB0aGlzLmNhcmV0SW1hZ2UpXHJcbiAgICB9XHJcblxyXG5cclxuICAgICNzZXR1cCgpIHtcclxuICAgICAgICB0aGlzLmNsaWNrSGFuZGxlciA9IHRoaXMuY2xpY2tIYW5kbGVyLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy4kZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGVyKTtcclxuICAgICAgICB0aGlzLiR2YWx1ZSA9IHRoaXMuJGVsZW0ucXVlcnlTZWxlY3RvcignW2RhdGEtdHlwZT1cInZhbHVlXCJdJylcclxuICAgIH1cclxuXHJcbiAgICBjbGlja0hhbmRsZXIoZXZlbnQpIHtcclxuICAgICAgICBjb25zdCB7dHlwZX0gPSBldmVudC50YXJnZXQuZGF0YXNldDtcclxuICAgICAgICBpZiAodHlwZSA9PT0gJ2lucHV0Jykge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2l0ZW0nKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KGlkKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2JhY2tkcm9wJykge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGN1cnJlbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5maW5kKGVsID0+IGVsLmlkID09PSB0aGlzLnNlbGVjdGVkSWQpXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlzT3BlbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4kZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ29wZW4nKVxyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdChpZCkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJZCA9IE51bWJlcihpZCk7XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdHlwZT1cIml0ZW1cIl0nKS5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLiRlbGVtLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWlkPVwiJHtpZH1cIl1gKS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpXHJcblxyXG4gICAgICAgIHRoaXMuJHZhbHVlLnRleHRDb250ZW50ID0gdGhpcy5jdXJyZW50LnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZSgpIHtcclxuICAgICAgICB0aGlzLmlzT3BlbiA/IHRoaXMuY2xvc2UoKSA6IHRoaXMub3BlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy4kZWxlbS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy4kZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJylcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuJGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy4kZWxlbS5pbm5lckhUTUwgPSAnJztcclxuICAgIH1cclxufVxyXG5cclxuY29uc3Qgc2VsZWN0ID0gbmV3IFNlbGVjdCgnI3NlbGVjdCcsIHtcclxuICAgIHBsYWNlaG9sZGVyOiAnUGxlYXNlIHNlbGVjdCBjYXRlZ29yeScsXHJcbiAgICBvcmlnaW5hbFNlbGVjdDogJyNvcmlnaW5hbFNlbGVjdCcsXHJcbn0pO1xyXG5cclxuY29uc3QgbGFuZ1NlbGVjdCA9IG5ldyBTZWxlY3QoJyNsYW5nU2VsZWN0Jywge1xyXG4gICAgb3JpZ2luYWxTZWxlY3Q6ICcjb2xkTGFuZ1NlbGVjdCcsXHJcbiAgICBzZWxlY3RlZElkOiAxLFxyXG4gICAgY2FyZXRJbWc6ICdpbWcvaWNvbnMveWVsbG93LWFycm93LnN2ZydcclxufSk7XHJcblxyXG5jb25zdCBsYW5nU2VsZWN0MSA9IG5ldyBTZWxlY3QoJyNsYW5nU2VsZWN0MScsIHtcclxuICAgIG9yaWdpbmFsU2VsZWN0OiAnI29sZExhbmdTZWxlY3QxJyxcclxuICAgIHNlbGVjdGVkSWQ6IDEsXHJcbiAgICBjYXJldEltZzogJ2ltZy9pY29ucy95ZWxsb3ctYXJyb3cuc3ZnJ1xyXG59KTtcclxuXHJcbndpbmRvdy5zID0gbGFuZ1NlbGVjdDtcclxuXHJcbi8vINCf0LvQsNCy0L3Ri9C5INGB0LrRgNC+0LvQu1xyXG5cclxuY29uc3QgYW5jaG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FbaHJlZio9XCIjXCJdJyk7XHJcbmNvbnNvbGUubG9nKGFuY2hvcnMpO1xyXG5mb3IgKGxldCBhbmNob3Igb2YgYW5jaG9ycykge1xyXG4gICAgYW5jaG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgYmxvY2tJRCA9IGFuY2hvci5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcnICsgYmxvY2tJRCkuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXHJcbiAgICAgICAgICAgIGJsb2NrOiAnc3RhcnQnXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcbi8vINCc0L7QtNCw0LvRjNC90L7QtSDQvtC60L3QvlxyXG4vLyDQny7QoTog0JTQvtCx0LDQstC40YLRjCDQvdC+0LLRi9C5INC/0LDRgNCw0LzQtdGC0YAgLSBcXFxcINCw0L3QuNC80LDRhtC40Y8gXFxcXC4gYW5pbWF0aW9uQ2xhc3M6INC60LvQsNGB0YEg0LjQtyDQsdC40LHQu9C40L7RgtC10LrQuCBhbmltYXRpb24uY3NzXHJcbi8vINCU0LXRhNC+0LvRgtC90LDRjyDQsNC90LjQvNCw0YbQuNGPOiBhbmltYXRlX19iYWNrSW5Eb3duXHJcblxyXG5sZXQgZ2V0TW9kYWxUZW1wbGF0ZSA9IChjb250ZW50KSA9PiB7XHJcbiAgICByZXR1cm4gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJvdmVybGF5XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5IGFuaW1hdGVfX2FuaW1hdGVkIGFuaW1hdGVfX2JhY2tJbkRvd25cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtdHlwZT1cImNsb3NlXCIgY2xhc3M9XCJtb2RhbC1jbG9zZVwiPiZ0aW1lczs8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAke2NvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICBgXHJcbn07XHJcblxyXG5jbGFzcyBNb2RhbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvciwgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuJGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMub3BlbkJ1dHRvbiA9IG9wdGlvbnMub3BlbkJ1dHRvbjtcclxuICAgICAgICBjb25zb2xlLmxvZyhvcHRpb25zLm9wZW5CdXR0b24pO1xyXG4gICAgICAgIHRoaXMuI3JlbmRlcigpO1xyXG4gICAgICAgIHRoaXMuI3NldHVwKCk7XHJcbiAgICB9XHJcbiAgICAjcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBjb250ZW50ID0gdGhpcy4kZWwuaW5uZXJIVE1MO1xyXG4gICAgICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5hZGQoJ21vZGFsJylcclxuICAgICAgICB0aGlzLiRlbC5pbm5lckhUTUwgPSBnZXRNb2RhbFRlbXBsYXRlKGNvbnRlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgICNzZXR1cCgpIHtcclxuICAgICAgICB0aGlzLmNsaWNrSGFuZGxlciA9IHRoaXMuY2xpY2tIYW5kbGVyLmJpbmQodGhpcyk7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5jbGlja0hhbmRsZXIpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrSGFuZGxlcihldmVudCkge1xyXG4gICAgICAgIGNvbnN0IHt0eXBlfSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldC5kYXRhc2V0KTtcclxuICAgICAgICBpZiAodHlwZSA9PT0gJ2Nsb3NlJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVGhpcyBtZXRob2QgaGFzIGJlZW4gd29ya2VkIScpO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnb3BlbicpIHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcyk7XHJcbiAgICAgICAgdGhpcy4kZWwuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcikuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcikuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0ZV9fYmFja0luRG93bicpO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgbW9kYWwgPSBuZXcgTW9kYWwoJyNtb2RhbCcsIHtcclxuICAgIG9wZW5CdXR0b246ICcjb3Blbk1vZGFsJyxcclxufSk7XHJcblxyXG53aW5kb3cubSA9IG1vZGFsO1xyXG5cclxuLy8g0JzQvtCx0LjQu9GM0L3QvtC1INC80LXQvdGOLlxyXG4vLyBQLlMg0KHQtNC10LvQsNGC0Ywg0LDQvdC40LzQsNGG0LjRjiDQvtGC0LrRgNGL0YLQuNGPXHJcblxyXG5jb25zdCBtb2JpbGVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vYmlsZU1lbnUnKTtcclxuY29uc3QgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2J1cmdlcicpO1xyXG5jb25zdCBjbG9zZU1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xvc2VNZW51Jyk7XHJcblxyXG5idXJnZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsICgpID0+IHtcclxuICAgIG1vYmlsZU1lbnUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbn0pO1xyXG5jbG9zZU1lbnUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsICgpID0+IHtcclxuICAgIG1vYmlsZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbn0pXHJcblxyXG4vLyDQntCx0YDQsNCx0L7RgtC60LAg0LrQu9C40LrQsCDQvdCwINGA0LDQsdC+0YLRg1xyXG5cclxuY29uc3Qgd29ya3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcud29yaycpO1xyXG5cclxuY29uc29sZS5sb2cod29ya3MpO1xyXG5cclxud29ya3MuZm9yRWFjaCgod29yaykgPT4ge1xyXG4gICAgd29yay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB3b3Jrcy5mb3JFYWNoKChlbCA9PiB7XHJcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2NsaWNrZWQnKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgd29yay5jbGFzc0xpc3QuYWRkKCdjbGlja2VkJylcclxuICAgIH0pXHJcbn0pO1xyXG4iXX0=
